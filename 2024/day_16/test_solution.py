import pytest

from solution import solve, solve2


EXAMPLES = [
    (
        """
#######
#...#E#
#S#...#
#######""",
        5007,
        8,
    ),
    (
        """
########
#...#E.#
#S#...##
########""",
        5007,
        8,
    ),
    (
        """
#######
#....E#
#.#.###
#S..###
#######""",
        2006,
        10,
    ),
    (
        """
#######
#S....#
#.#.###
#....E#
#######""",
        2006,
        10,
    ),
    (
        """
#######
#.....#
#S#.#E#
#.....#
#######""",
        3006,
        12,
    ),
    (
        """
#######
#...###
#S#..E#
#...###
#######""",
        4006,
        10,
    ),
    (
        """
#######
#....##
#S#..E#
#....##
#...###
#######""",
        4006,
        12,
    ),
    (
        """
###############
#.......#....E#
#.#.###.#.###.#
#.....#.#...#.#
#.###.#####.#.#
#.#.#.......#.#
#.#.#####.###.#
#...........#.#
###.#.#####.#.#
#...#.....#.#.#
#.#.#.###.#.#.#
#.....#...#.#.#
#.###.#.#.#.#.#
#S..#.....#...#
###############""",
        7036,
        45,
    ),
    (
        """
#################
#...#...#...#..E#
#.#.#.#.#.#.#.#.#
#.#.#.#...#...#.#
#.#.#.#.###.#.#.#
#...#.#.#.....#.#
#.#.#.#.#.#####.#
#.#...#.#.#.....#
#.#.#####.#.###.#
#.#.#.......#...#
#.#.###.#####.###
#.#.#...#.....#.#
#.#.#.#####.###.#
#.#.#.........#.#
#.#.#.#########.#
#S#.............#
#################
     """,
        11048,
        64,
    ),
]


@pytest.mark.parametrize("data,expected,tiles", EXAMPLES)
def test_solve(data, expected, tiles):
    assert solve(data) == expected


@pytest.mark.parametrize("data,expected,tiles", EXAMPLES)
def test_solve2(data, expected, tiles):
    assert solve2(data) == tiles
